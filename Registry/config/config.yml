version: 0.1

log:
  accesslog:
    disabled: false
  level: info
  formatter: text
  fields:
    service: registry
    environment: production

storage:
  filesystem:
    rootdirectory: /var/lib/registry
  delete:
    enabled: true

http:
  addr: :5000
  headers:
    X-Content-Type-Options: [nosniff]
  # Uncomment these if youâ€™re using TLS certificates
  #tls:
  #  certificate: /certs/local.crt
  #  key: /certs/local.key

# ---------------------------------------------------
# Enable pull-through cache from Docker Hub (read-only)
# while allowing local repositories to be writable
# ---------------------------------------------------
middleware:
  repository:
    - name: proxy
      options:
        remoteurl: https://registry-1.docker.io
        # Optional: add your Docker Hub credentials to avoid rate limits
        # username: your_dockerhub_username
        # password: your_dockerhub_access_token

# Optional: tune cache behavior
# health:
#   storagedriver:
#     enabled: true
